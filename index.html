<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Privacy: Prevent search engines from indexing this page -->
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <title>Butki's Forever Valentine üêº‚ù§Ô∏è</title>

  <!-- Modern Tipography -->
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&family=Playfair+Display:ital,wght@0,700;1,700&display=swap"
    rel="stylesheet">
  <!-- GSAP for Smooth Animations -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <style>
    :root {
      --primary: #ff4d6d;
      --primary-hover: #ff758f;
      --bg: #0b0c10;
      --glass: rgba(255, 255, 255, 0.05);
      --glass-border: rgba(255, 255, 255, 0.1);
      --text: #ffffff;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Outfit', sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      overflow: hidden;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* FALLING HEARTS BACKGROUND */
    #hearts-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
    }

    .heart {
      position: absolute;
      color: var(--primary);
      font-size: 20px;
      opacity: 0.6;
      animation: fall linear forwards;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(360deg);
      }
    }

    /* DESIGN SYSTEM */
    .glass-card {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: var(--glass);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 40px;
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
      text-align: center;
      max-width: 90%;
      width: 500px;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(45deg, #ff4d6d, #ff8fa3);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* MOBILE RESPONSIVENESS */
    @media (max-width: 600px) {
      h1 {
        font-size: 2.2rem;
      }

      .glass-card {
        padding: 30px 20px;
        width: 95%;
      }

      .btn {
        font-size: 0.9rem;
      }

      .gallery {
        height: 300px;
      }

      .text-content {
        font-size: 0.95rem;
      }
    }

    .subtitle {
      font-weight: 300;
      opacity: 0.8;
      letter-spacing: 1px;
      margin-bottom: 2rem;
    }

    /* BUTTONS */
    .btn-group {
      display: flex;
      gap: 15px;
      justify-content: center;
      align-items: center;
      /* Center buttons horizontally in column mode */
      flex-wrap: wrap;
    }

    .btn {
      width: 140px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      border-radius: 50px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      text-decoration: none;
      flex-shrink: 0;
    }

    .primary {
      background: linear-gradient(45deg, var(--primary), var(--primary-hover));
      color: white;
      box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
    }

    .primary:hover {
      transform: scale(1.05) translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 77, 109, 0.6);
    }

    .ghost {
      background: transparent;
      border: 1px solid var(--primary);
      color: var(--primary);
    }

    .ghost:hover {
      background: rgba(255, 77, 109, 0.1);
    }

    #noBtn {
      position: relative;
      z-index: 100;
      margin: 0;
    }

    /* SCREENS */
    .screen {
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .fade-in {
      display: flex;
      flex-direction: column;
      /* Ensure vertical layout */
      align-items: center;
      animation: fadeIn 0.8s ease forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* BOOK STYLE GALLERY */
    .gallery {
      position: relative;
      width: 100%;
      max-width: 350px;
      height: 450px;
      margin: 20px 0;
      perspective: 1500px;
      background: transparent;
      box-shadow: none;
      overflow: visible; /* Need overflow visible for 3D flip */
    }

    .book {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.5s;
    }

    .book-page {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      transform-origin: left;
      transform-style: preserve-3d;
      transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1);
      z-index: 1;
      cursor: pointer;
    }

    .book-page img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      background: #1a1c22; /* Dark background for non-matching aspect ratios */
      border-radius: 0 15px 15px 0;
      box-shadow: 10px 0 20px rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.1);
      backface-visibility: hidden;
      position: absolute;
      top: 0;
      left: 0;
    }

    /* Spine effect */
    .book-page::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      width: 10px;
      height: 100%;
      background: linear-gradient(to right, rgba(0,0,0,0.5), transparent);
      z-index: 10;
      pointer-events: none;
    }

    .book-page.flipped {
      transform: rotateY(-180deg);
    }

    .gallery img.active {
      opacity: 1;
    }

    .gallery .arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 77, 109, 0.3);
      backdrop-filter: blur(5px);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
      font-size: 1.2rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .gallery .arrow:hover {
      background: var(--primary);
      transform: translateY(-50%) scale(1.1);
    }

    .gallery .arrow.prev {
      left: 10px;
    }

    .gallery .arrow.next {
      right: 10px;
    }

    #memory-caption {
      margin-top: 15px;
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--primary);
      min-height: 1.5rem;
      font-family: 'Playfair Display', serif;
      transition: opacity 0.3s ease;
    }

    /* TEXT SCREENS */
    .text-content {
      line-height: 1.8;
      font-size: 1.1rem;
      text-align: left;
      margin-bottom: 20px;
    }

    /* LETTER PAGE */
    #letter {
      width: 600px;
      max-width: 95%;
      padding: 50px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 77, 109, 0.1));
    }

    .music-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background: var(--glass);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 100;
      font-size: 1.5rem;
      transition: transform 0.3s ease;
    }

    .music-toggle:hover {
      transform: rotate(15deg) scale(1.1);
    }

    .music-toggle.playing {
      animation: pulse 2s infinite;
    }

    /* TIMELINE */
    .timeline {
      position: relative;
      max-width: 100%;
      margin: 20px 0;
      padding-left: 30px;
      text-align: left;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      width: 2px;
      height: 100%;
      background: linear-gradient(to bottom, var(--primary), transparent);
    }

    .timeline-item {
      margin-bottom: 30px;
      position: relative;
    }

    .timeline-item::before {
      content: '‚ù§Ô∏è';
      position: absolute;
      left: -40px;
      top: 0;
      background: var(--bg);
      border-radius: 50%;
      padding: 2px;
    }

    .timeline-date {
      font-weight: 700;
      color: var(--primary);
      font-size: 0.9rem;
      margin-bottom: 5px;
    }

    /* CLOCK */
    .clock-container {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin: 20px 0;
      flex-wrap: wrap;
    }


    .clock-unit {
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 12px;
      min-width: 80px;
    }

    .clock-val {
      font-size: 1.8rem;
      font-weight: 700;
      display: block;
    }

    .clock-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      opacity: 0.7;
    }

    /* COUPONS */
    .coupon-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      width: 100%;
      padding: 10px;
    }
    
    .coupon {
      position: relative;
      background: linear-gradient(135deg, #fff, #f0f0f0);
      color: #333;
      padding: 0;
      border-radius: 15px;
      overflow: hidden;
      display: flex;
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      min-height: 100px;
      border: none;
    }

    .coupon::before, .coupon::after {
      content: '';
      position: absolute;
      left: 70%;
      width: 20px;
      height: 20px;
      background: var(--bg);
      border-radius: 50%;
      z-index: 5;
    }
    
    .coupon::before { top: -10px; }
    .coupon::after { bottom: -10px; }

    .coupon-left {
      flex: 7;
      padding: 20px;
      text-align: left;
      border-right: 2px dashed #ccc;
    }
    
    .coupon-right {
      flex: 3;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--primary);
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.3s;
    }

    .coupon-right:hover {
      background: var(--primary-hover);
    }

    .coupon-title {
      font-weight: 700;
      font-size: 1.1rem;
      margin-bottom: 5px;
      display: block;
    }
    
    .coupon-serial {
      font-size: 0.6rem;
      opacity: 0.6;
      font-family: monospace;
    }

    .coupon.redeemed {
      filter: grayscale(1);
      opacity: 0.7;
      pointer-events: none;
      transform: scale(0.95);
    }

    .coupon.redeemed .coupon-right {
      background: #888;
    }

    .redeem-stamp {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-20deg);
      border: 4px solid #e74c3c;
      color: #e74c3c;
      padding: 5px 15px;
      font-weight: 900;
      font-size: 1.5rem;
      text-transform: uppercase;
      opacity: 0;
      pointer-events: none;
      z-index: 10;
      border-radius: 10px;
    }

    /* LOVE VAULT */
    #vault-container {
      position: relative;
      width: 300px;
      height: 350px;
      margin: 20px auto;
      background: linear-gradient(145deg, #2a2d34, #1a1c22);
      border: 4px solid #4a4e5a;
      border-radius: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      box-shadow: 0 20px 40px rgba(0,0,0,0.6), inset 0 0 20px rgba(255,255,255,0.05);
      overflow: hidden;
      perspective: 1000px;
    }

    .vault-door {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #3c414b, #282c35);
      border: 2px solid #5a5f6d;
      border-radius: 16px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10;
      transform-origin: left;
      transition: transform 1.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .vault-handle {
      width: 60px;
      height: 60px;
      border: 6px solid #b0b5c1;
      border-radius: 50%;
      margin-bottom: 20px;
      position: relative;
      background: radial-gradient(circle, #4a4e5a 0%, #282c35 100%);
      box-shadow: 0 5px 15px rgba(0,0,0,0.4);
    }

    .vault-handle::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 30px;
      height: 6px;
      background: #b0b5c1;
      transform: translate(-50%, -50%);
    }

    #vault-input-display {
      background: #000;
      color: #0f0;
      font-family: 'Courier New', monospace;
      padding: 10px 20px;
      border-radius: 5px;
      font-size: 1.5rem;
      margin-bottom: 20px;
      letter-spacing: 5px;
      width: 140px;
      text-align: center;
      box-shadow: inset 0 0 10px rgba(0,255,0,0.2);
    }

    .vault-keypad {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    .key-btn {
      width: 45px;
      height: 45px;
      background: #333;
      border: 1px solid #555;
      color: white;
      border-radius: 5px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
    }

    .key-btn:active {
      background: #555;
      transform: scale(0.9);
    }

    .key-btn.clear { background: #e74c3c; font-size: 0.7rem; }
    .key-btn.enter { background: #2ecc71; font-size: 0.7rem; }

    #vault-reveal {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transform: scale(0.5);
    }

    .floating-heart {
      font-size: 5rem;
      filter: drop-shadow(0 0 20px var(--primary));
      animation: float 3s ease-in-out infinite;
    }

    /* GOLDEN TICKET */
    .golden-ticket {
      width: 250px;
      height: 140px;
      background: linear-gradient(135deg, #ffd700 0%, #ffac00 50%, #d4af37 100%);
      border: 4px double #fff;
      border-radius: 10px;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #744d00;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5), 0 0 20px rgba(255,215,0,0.3);
      padding: 15px;
      font-family: 'Playfair Display', serif;
      overflow: hidden;
      margin: 0 auto; /* Enhance centering */
    }

    .golden-ticket::before {
      content: 'ADMIT ONE';
      position: absolute;
      top: 50%;
      left: -35px;
      transform: translateY(-50%) rotate(-90deg);
      font-size: 0.6rem;
      font-weight: 700;
      letter-spacing: 2px;
      opacity: 0.5;
    }

    .golden-ticket::after {
      content: 'VALENTINE';
      position: absolute;
      top: 50%;
      right: -35px;
      transform: translateY(-50%) rotate(90deg);
      font-size: 0.6rem;
      font-weight: 700;
      letter-spacing: 2px;
      opacity: 0.5;
    }

    .ticket-title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 5px;
      text-transform: uppercase;
      border-bottom: 2px solid #744d00;
    }

    .ticket-subtitle {
      font-size: 0.8rem;
      font-weight: 500;
      margin-top: 10px;
    }

    .ticket-perforation {
       position: absolute;
       top: 0;
       bottom: 0;
       left: 20px;
       border-left: 2px dotted #744d00;
       opacity: 0.3;
    }

    /* CTA BUTTONS */
    .cta-container {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      width: 100%;
    }

    .cta-text {
      color: #fff;
      font-weight: 700;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      opacity: 0.9;
    }

    .cta-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      width: 100%;
    }

    .gift-selection {
      display: none;
      flex-direction: column;
      gap: 12px;
      width: 100%;
      max-width: 280px;
      opacity: 0;
      transform: translateY(10px);
    }

    .cta-btn {
      padding: 10px 20px;
      border-radius: 25px;
      border: none;
      color: white;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all 0.3s ease;
      text-decoration: none;
      font-size: 0.8rem;
    }

    .cta-btn.gift {
      width: 100%;
      padding: 12px 20px;
      font-size: 0.9rem;
    }

    .cta-btn.back {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid var(--glass-border);
      color: #ccc;
      margin-top: 5px;
      width: 100%;
    }

    .cta-btn.back:hover {
      background: rgba(255, 255, 255, 0.2);
      color: white;
    }

    .cta-btn.whatsapp {
      background: #25d366;
      box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4);
    }

    .cta-btn.call {
      background: #3498db;
      box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
    }

    .cta-btn:hover {
      transform: translateY(-3px) scale(1.05);
      filter: brightness(1.1);
    }

    /* PREMIUM GIFT BUTTONS */
    .gift-btn {
      width: 100%;
      padding: 15px;
      border-radius: 50px;
      border: none;
      color: white;
      font-weight: 800;
      font-size: 1rem;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      text-decoration: none;
      margin-bottom: 8px;
    }
    .gift-btn:hover { transform: translateY(-2px); filter: brightness(1.1); }
    .gift-btn:active { transform: scale(0.98); }

    .gift-dinner { background: linear-gradient(45deg, #25d366, #128c7e); box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4); }
    .gift-movie { background: linear-gradient(45deg, #ff5722, #e64a19); box-shadow: 0 4px 15px rgba(255, 87, 34, 0.4); }
    .gift-drive { background: linear-gradient(45deg, #9c27b0, #7b1fa2); box-shadow: 0 4px 15px rgba(156, 39, 176, 0.4); }

    /* VAULT STEPS */
    #vault-step-1, #vault-step-2 {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
    }

    #vault-step-1 {
      justify-content: flex-start;
      padding-top: 50px; /* Adjusted padding to move ticket slightly up */
    }


    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    /* CURSOR TRAIL */
    .cursor-trail {
      position: fixed;
      pointer-events: none;
      z-index: 9999;
      font-size: 1.2rem;
      user-select: none;
    }

    /* LYRIC RAIN */
    .lyric-item {
      position: fixed;
      color: var(--primary);
      font-weight: 700;
      pointer-events: none;
      z-index: 50;
      white-space: nowrap;
      text-shadow: 0 0 10px rgba(255, 77, 109, 0.5);
    }

    /* SHAYARI SLIDER */
    .shayari-slider {
      position: relative;
      width: 100%;
      min-height: 250px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 20px 0;
      padding: 0 60px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      border: 1px solid var(--glass-border);
    }

    #shayari-text {
      font-size: 1.25rem;
      line-height: 1.8;
      font-style: italic;
      color: #fff;
    }

    .shayari-slider .arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 77, 109, 0.3);
      backdrop-filter: blur(5px);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 10;
    }

    .shayari-slider .arrow:hover {
      background: var(--primary);
      transform: translateY(-50%) scale(1.1);
    }

    .shayari-slider .arrow.prev { left: 10px; }
    .shayari-slider .arrow.next { right: 10px; }
    #garden-canvas {
      cursor: crosshair;
      background: linear-gradient(180deg, #1a472a 0%, #0d2114 100%);
      border: 2px solid #2d6a4f;
      border-radius: 20px;
      margin: 10px 0;
      width: 100%;
      height: 300px;
      touch-action: none;
      box-shadow: inset 0 0 40px rgba(0,0,0,0.6);
    }

    .garden-controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      margin-top: 15px;
    }

    .monkey-quote {
      font-style: italic;
      color: #9dffb0;
      font-size: 0.9rem;
      min-height: 1.2rem;
      margin: 5px 0;
      font-family: 'Comic Sans MS', cursive;
    }

    /* QUIZ */
    .quiz-options {
      display: grid;
      gap: 10px;
      width: 100%;
      margin-top: 20px;
    }

    .option-btn {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      color: white;
      padding: 12px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      -webkit-tap-highlight-color: transparent;
    }

    /* Prevent sticky hover on mobile */
    @media (hover: hover) {
      .option-btn:hover {
        background: rgba(255, 255, 255, 0.15);
        transform: translateY(-2px);
      }
    }

    .correct {
      background: #2ecc71 !important;
      animation: pulse 0.5s ease;
    }

    .wrong {
      background: #e74c3c !important;
    }

    /* RANDOMIZER */
    #random-heart {
      font-size: 5rem;
      cursor: pointer;
      display: inline-block;
      transition: transform 0.3s ease;
      filter: drop-shadow(0 0 15px var(--primary));
    }

    #random-heart:hover {
      transform: scale(1.1) rotate(5deg);
    }

    #love-reason {
      margin-top: 20px;
      font-style: italic;
      min-height: 50px;
    }
  </style>
</head>

<body>

  <div id="hearts-container"></div>

  <!-- OPEN -->
  <div id="opening" class="glass-card fade-in">
    <h1>Hey Radhe </h1>
    <div class="subtitle">Will you be my Valentine?</div>
    <div class="btn-group">
      <button id="yesBtn" class="btn primary">Yes ‚ù§Ô∏è</button>
      <button id="noBtn" class="btn ghost">No üòÑ</button>
    </div>
  </div>

  <!-- MENU -->
  <div id="menu" class="glass-card screen">
    <h1>Hi Butki ‚ù§Ô∏è</h1>
    <div class="subtitle">‚Äî from your Panda üêº</div>
    <div class="btn-group" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; width: 100%;">
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('memories')">üíû
        Memories</button>
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('timeline')">‚è≥ Our
        Story</button>
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('clock')">‚è±Ô∏è How
        Long?</button>
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('scratch')">üéÅ
        Surprise</button>
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('coupons')">üé´
        Coupons</button>
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('garden')">üå∏
        Garden</button>
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('quiz')">üß© Quiz</button>
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('randomizer')">üíñ
        Reasons</button>
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('shayari')">ÔøΩ
        Shayari</button>
      <button class="btn primary" style="width: 100%; font-size: 0.8rem;" onclick="showScreen('letter')">üíå
        Message</button>
    </div>
  </div>

  <!-- CLOCK -->
  <div id="clock" class="glass-card screen">
    <h1>We've been together for</h1>
    <div class="clock-container">
      <div class="clock-unit"><span class="clock-val" id="days">00</span><span class="clock-label">Days</span></div>
      <div class="clock-unit"><span class="clock-val" id="hours">00</span><span class="clock-label">Hours</span></div>
      <div class="clock-unit"><span class="clock-val" id="minutes">00</span><span class="clock-label">Mins</span></div>
      <div class="clock-unit"><span class="clock-val" id="seconds">00</span><span class="clock-label">Secs</span></div>
    </div>
    <div class="subtitle">...and counting every second ‚ù§Ô∏è</div>
    <button class="btn ghost" onclick="showScreen('menu')">Back</button>
  </div>

  <!-- TIMELINE -->
  <div id="timeline" class="glass-card screen">
    <h1>Our Story</h1>
    <div class="timeline">
      <div class="timeline-item">
        <div class="timeline-date">The Beginning</div>
        <p>The day Panda met his Butki. Sab kuch badal gaya. ‚ù§Ô∏è</p>
      </div>
      <div class="timeline-item">
        <div class="timeline-date">First Date</div>
        <p>That nervous smile and those beautiful eyes. ‚ú®</p>
      </div>
      <div class="timeline-item">
        <div class="timeline-date">Happiest Moment</div>
        <p>Every moment with you is the best moment. ‚ù§Ô∏è</p>
      </div>
    </div>
    <button class="btn ghost" onclick="showScreen('menu')">Back</button>
  </div>

  <!-- LOVE VAULT -->
  <div id="scratch" class="glass-card screen">
    <h1>The Love Vault üîê</h1>
    <p class="subtitle">Enter the secret date to unlock</p>
    <div id="vault-container">
      <!-- VAULT DOOR -->
      <div class="vault-door" id="vault-door">
        <div class="vault-handle"></div>
        <div id="vault-input-display">____</div>
        <div class="vault-keypad">
          <button class="key-btn" onclick="pressKey('1')">1</button>
          <button class="key-btn" onclick="pressKey('2')">2</button>
          <button class="key-btn" onclick="pressKey('3')">3</button>
          <button class="key-btn" onclick="pressKey('4')">4</button>
          <button class="key-btn" onclick="pressKey('5')">5</button>
          <button class="key-btn" onclick="pressKey('6')">6</button>
          <button class="key-btn" onclick="pressKey('7')">7</button>
          <button class="key-btn" onclick="pressKey('8')">8</button>
          <button class="key-btn" onclick="pressKey('9')">9</button>
          <button class="key-btn clear" onclick="clearVault()">CLR</button>
          <button class="key-btn" onclick="pressKey('0')">0</button>
          <button class="key-btn enter" onclick="checkVault()">OK</button>
        </div>
      </div>
      <!-- REVEAL CONTENT -->
      <div id="vault-reveal">
        <!-- STEP 1: Master Prize Reveal -->
        <div id="vault-step-1">
          <div class="golden-ticket" id="golden-ticket">
            <div class="ticket-perforation"></div>
            <div class="ticket-title">Golden Ticket</div>
            <div style="font-size: 0.9rem; font-weight: 700;">Grand Valentine Date</div>
            <div class="ticket-subtitle">Dinner ‚Ä¢ Movie ‚Ä¢ Long Drive</div>
            <div style="font-size: 0.6rem; margin-top: 5px; opacity: 0.8;">Valid for a Lifetime of Love ‚ù§Ô∏è</div>
          </div>
          <div style="color: #fff; margin-top: 10px; font-weight: 700; font-size: 1.1rem; opacity: 0.9;">
            You Unlocked the Master Prize! üêº‚ù§Ô∏è
          </div>
          <div class="cta-container">
            <div id="vault-main-btns" style="width: 100%;">
              <div class="cta-buttons">
                <button onclick="showGiftOptions()" class="cta-btn whatsapp">
                  <span>üí¨</span> WhatsApp
                </button>
                <a href="tel:9106753003" class="cta-btn call">
                  <span>üìû</span> Call
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP 2: Gift Selection -->
        <div id="vault-step-2" style="display: none; opacity: 0;">
          <div class="cta-container">
            <div id="vault-gift-btns" style="width: 100%; max-width: 280px;">
              <div class="cta-text" style="margin-bottom: 20px; font-size: 1.1rem;">CHOOSE YOUR SURPRICE:</div>
              <div class="cta-buttons" style="flex-direction: column; gap: 0;">
                <button onclick="openWhatsAppPrompt('dinner')" class="gift-btn gift-dinner">
                  <span>üçΩÔ∏è</span> Romantic Dinner Date
                </button>
                <button onclick="openWhatsAppPrompt('movie')" class="gift-btn gift-movie">
                  <span>üé¨</span> Romantic Movie Date
                </button>
                <button onclick="openWhatsAppPrompt('drive')" class="gift-btn gift-drive">
                  <span>üöó</span> Long Drive & Ice Cream
                </button>
                <button onclick="hideGiftOptions()" class="cta-btn back" style="margin-top: 10px;">
                  <span>‚¨ÖÔ∏è</span> Back
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <button class="btn ghost" onclick="showScreen('menu')">Back</button>
  </div>

  <!-- COUPONS -->
  <div id="coupons" class="glass-card screen">
    <h1>Love Coupons</h1>
    <p class="subtitle">Click to redeem! (Valid forever)</p>
    <div class="coupon-grid">
      <!-- Coupon 1 -->
      <div class="coupon">
        <div class="coupon-left">
          <span class="coupon-title">üéüÔ∏è One Giant Hug</span>
          <span class="coupon-serial">SN: LOVE-2024-001</span>
        </div>
        <div class="coupon-right" onclick="redeem(this.parentElement)">USE</div>
        <div class="redeem-stamp">USED</div>
      </div>
      <!-- Coupon 2 -->
      <div class="coupon">
        <div class="coupon-left">
          <span class="coupon-title">üé´ Surprise Date</span>
          <span class="coupon-serial">SN: LOVE-2024-002</span>
        </div>
        <div class="coupon-right" onclick="redeem(this.parentElement)">USE</div>
        <div class="redeem-stamp">USED</div>
      </div>
      <!-- Coupon 3 -->
      <div class="coupon">
        <div class="coupon-left">
          <span class="coupon-title">üç∞ Late Night Treat</span>
          <span class="coupon-serial">SN: LOVE-2024-003</span>
        </div>
        <div class="coupon-right" onclick="redeem(this.parentElement)">USE</div>
        <div class="redeem-stamp">USED</div>
      </div>
      <!-- Coupon 4 -->
      <div class="coupon">
        <div class="coupon-left">
          <span class="coupon-title">üêº Panda's Care</span>
          <span class="coupon-serial">SN: LOVE-2024-004</span>
        </div>
        <div class="coupon-right" onclick="redeem(this.parentElement)">USE</div>
        <div class="redeem-stamp">USED</div>
      </div>
    </div>
    <br>
    <button class="btn ghost" onclick="showScreen('menu')">Back</button>
  </div>

  <!-- GARDEN -->
  <div id="garden" class="glass-card screen">
    <h1 style="font-size: 1.8rem; color: #74c69d;">Bandariya's Jumping Garden</h1>
    <p class="subtitle" style="margin-bottom: 0.5rem;">Click to plant trees & watch Bandariya chhalang! üêí</p>
    <div id="monkey-status" class="monkey-quote">Bandariya is ready for jump!</div>
    <div style="position: relative; width: 100%; max-width: 350px; margin: 0 auto;">
      <canvas id="garden-canvas" width="350" height="300"></canvas>
    </div>
    <div class="garden-controls">
      <button class="btn ghost" style="font-size: 0.75rem; padding: 8px 15px;" onclick="clearGarden()">üóëÔ∏è Reset</button>
      <button class="btn ghost" style="font-size: 0.75rem; padding: 8px 15px;" onclick="showScreen('menu')">Back</button>
    </div>
  </div>

  <!-- QUIZ -->
  <div id="quiz" class="glass-card screen">
    <h1>Panda's Quiz</h1>
    <div id="quiz-container">
      <p id="quiz-question" style="font-size: 1.2rem; margin: 20px 0;">Who is Panda's favorite person?</p>
      <div class="quiz-options">
        <button class="option-btn" onclick="checkAnswer(0)">A</button>
        <button class="option-btn" onclick="checkAnswer(1)">B</button>
        <button class="option-btn" onclick="checkAnswer(2)">C</button>
        <button class="option-btn" onclick="checkAnswer(3)">D</button>
      </div>
    </div>
    <div id="quiz-result" style="display: none; flex-direction: column; align-items: center;">
      <h2 style="font-family: 'Playfair Display', serif; font-size: 2.5rem; margin-bottom: 1rem;">Perfect Score! ‚ù§Ô∏è</h2>
      <p style="font-size: 1.1rem; margin-bottom: 2rem;">You really know Panda better than anyone else! üêº</p>
      <div id="certificate" style="border: 2px solid var(--primary); padding: 30px; border-radius: 12px; background: rgba(255, 77, 109, 0.1); margin-bottom: 20px; position: relative;">
          <h3 style="color: var(--primary);">Awarded to Butki</h3>
          <p>For being the Best Girl in Panda's World üåé</p>
          <div style="font-size: 3rem; margin-top: 10px;">üêº‚ù§Ô∏èButki</div>
      </div>
    </div>
    <button class="btn ghost" style="margin-top: 20px;" onclick="showScreen('menu')">Back</button>
  </div>

  <!-- RANDOMIZER -->
  <div id="randomizer" class="glass-card screen">
    <h1>Reasons I Love You</h1>
    <div id="random-heart" onclick="generateReason()">‚ù§Ô∏è</div>
    <div id="love-reason">Click the heart to see why...</div>
    <button class="btn ghost" style="margin-top: 20px;" onclick="showScreen('menu')">Back</button>
  </div>

  <!-- MEMORIES -->
  <div id="memories" class="glass-card screen">
    <div class="gallery" id="gallery">
      <div class="arrow prev" onclick="prevPhoto()" style="left: -50px;">&#10094;</div>
      <div class="arrow next" onclick="manualNext()" style="right: -50px;">&#10095;</div>
      <div class="book" id="book">
        <div class="book-page"><img src="Photo1.jpeg"></div>
        <div class="book-page"><img src="Photo3.jpeg"></div>
        <div class="book-page"><img src="Photo4.jpeg"></div>
        <div class="book-page"><img src="Photo6.jpeg"></div>
        <div class="book-page"><img src="Photo7.jpeg"></div>
        <div class="book-page"><img src="Photo5.jpeg"></div>
        <div class="book-page"><img src="Photo9.jpeg"></div>
        <div class="book-page"><img src="Photo8.jpeg"></div>
        <div class="book-page"><img src="Photo2.jpeg"></div>
        <div class="book-page"><img src="Photo10.jpeg"></div>
      </div>
    </div>
    <div id="memory-caption">Our first photo together üì∏</div>
    <button class="btn ghost" style="margin-top: 20px;" onclick="showScreen('menu')">Back</button>
  </div>

  <!-- SHAYARI -->
  <div id="shayari" class="glass-card screen">
    <h1>Shayari</h1>
    <div class="shayari-slider">
      <div class="arrow prev" onclick="prevShayari()">&#10094;</div>
      <div id="shayari-text">
        <!-- Shayari content will be injected here -->
      </div>
      <div class="arrow next" onclick="nextShayari()">&#10095;</div>
    </div>
    <button class="btn ghost" onclick="showScreen('menu')">Back</button>
  </div>

  <!-- LETTER -->
  <div id="letter" class="glass-card screen">
    <h1>Dear Butki,</h1>
    <div class="text-content">
      <p>Jab tum meri Life mein aayi, sab kuch Movie jaisa ho gaya. üé¨</p>
      <br>
      <p>Tum meri Peace ho. Tum meri Happiness ho. Tum meri Sukoon ho. ‚ú®</p>
      <br>
      <p>Panda hamesha Butki ko protect karega, hasayega, aur life bhar pyaar karega. ‚ôæÔ∏è</p>
      <br>
      <p><b>‚Äî Panda ‚ù§Ô∏è</b></p>
    </div>
    <button class="btn ghost" onclick="showScreen('menu')">Back</button>
  </div>

  <div class="music-toggle" onclick="toggleMusic()">üéµ</div>

  <audio id="music" loop>
    <source src="song.mp3">
  </audio>

  <script>
    const heartsContainer = document.getElementById('hearts-container');
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const music = document.getElementById("music");
    const musicToggle = document.querySelector(".music-toggle");

    // SETTINGS
    const startDate = new Date("2023-12-08T00:00:00"); // Our first meet day! ‚ù§Ô∏è
    const reasons = [
      "The way you smile when you're shy üòä",
      "Because you are my best friend first üêº‚ù§Ô∏è Butki",
      "Your panda-like warm hugs ü´Ç",
      "The way you care about the smallest things ‚ú®",
      "You make my world perfect just by being in it üåé",
      "Your beautiful eyes that I could stare at forever üòç",
      "Because you handle my panda moods so well üêº",
      "The way you say my name... ‚ù§Ô∏è"
    ];

    const shayaris = [
      "Jisko yaad karne se chehre pr <br> chamak aa jaye...üß∏ <br> Woh khubsurat khayal ho tum...üïäÔ∏è",
      "Log kehte hain ki nasha sharaab mein hota hai, <br> Shaayad unhone kabhi tumhari aankhein nahi dekhi. üëÄ‚ù§Ô∏è",
      "Kitna pyaar hai tumse, yeh kehna nahi aata, <br> Bas itna jaante hain ki bina tumhare rehna nahi aata. ‚ôæÔ∏èü´Ç",
      "Aapki ek muskurahat hi kaafi hai, <br> Meri duniya ko haseen banane ke liye. ‚ú®üòä",
      "Panda hamesha Butki ke saath rahega, <br> Chahe mausam koi bhi ho. üêº‚ù§Ô∏è"
    ];
    let currentShayariIndex = 0;

    // FALLING HEARTS
    function createHeart(x, y, isExplosion = false) {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.innerHTML = '‚ù§Ô∏è';
      heart.style.left = (x || Math.random() * 100) + (x ? 'px' : 'vw');
      if (y) heart.style.top = y + 'px';
      heart.style.animationDuration = Math.random() * 2 + 3 + 's';
      heart.style.opacity = Math.random() * 0.5 + 0.3;
      heart.style.fontSize = Math.random() * 20 + 10 + 'px';

      if (isExplosion) {
        heart.style.position = 'fixed';
        const angle = Math.random() * Math.PI * 2;
        const velocity = Math.random() * 100 + 50;
        gsap.to(heart, {
          x: Math.cos(angle) * velocity,
          y: Math.sin(angle) * velocity,
          opacity: 0,
          duration: 1,
          onComplete: () => heart.remove()
        });
      } else {
        setTimeout(() => heart.remove(), 5000);
      }
      heartsContainer.appendChild(heart);
    }
    setInterval(() => createHeart(), 300);

    // CURSOR TRAIL
    document.addEventListener('mousemove', (e) => {
      if (Math.random() > 0.8) {
        const trail = document.createElement('div');
        trail.className = 'cursor-trail';
        trail.innerHTML = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'üêº';
        trail.style.left = e.clientX + 'px';
        trail.style.top = e.clientY + 'px';
        document.body.appendChild(trail);
        gsap.to(trail, {
          y: -50,
          x: (Math.random() - 0.5) * 50,
          opacity: 0,
          scale: 1.5,
          duration: 1,
          onComplete: () => trail.remove()
        });
      }
    });


    // "NO" BUTTON PLAYFUL LOGIC
    function moveNo() {
      noBtn.style.position = "fixed";
      const margin = 20;
      const x = Math.random() * (window.innerWidth - noBtn.offsetWidth - margin * 2) + margin;
      const y = Math.random() * (window.innerHeight - noBtn.offsetHeight - margin * 2) + margin;
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    }

    noBtn.addEventListener("mouseover", moveNo);

    // NAVIGATION WITH GSAP
    function showScreen(screenId) {
      const allScreens = document.querySelectorAll('.glass-card');
      const target = document.getElementById(screenId);

      allScreens.forEach(s => {
        s.classList.remove('active', 'fade-in');
      });

      gsap.to(allScreens, {
        opacity: 0,
        y: 20,
        duration: 0.4,
        display: 'none',
        onComplete: () => {
          target.classList.add('active');
          gsap.set(target, { display: 'flex', opacity: 0, y: 20 });
          gsap.to(target, { opacity: 1, y: 0, duration: 0.6, ease: "back.out(1.7)" });

          if (screenId === 'memories') startGallery();
          else stopGallery();

          if (screenId === 'shayari') updateShayariContent();
          if (screenId === 'clock') startClock();
          if (screenId === 'garden') initGarden();
          if (screenId === 'quiz') updateQuiz();
          if (screenId === 'scratch') clearVault();
        }
      });
    }

    yesBtn.onclick = () => {
      showScreen('menu');
      if (music.paused) toggleMusic();
    };

    // RELATIONSHIP CLOCK
    let clockInterval;
    function startClock() {
      clearInterval(clockInterval);
      const update = () => {
        const diff = new Date() - startDate;
        document.getElementById('days').innerText = String(Math.floor(diff / 864e5)).padStart(2, '0');
        document.getElementById('hours').innerText = String(Math.floor((diff / 36e5) % 24)).padStart(2, '0');
        document.getElementById('minutes').innerText = String(Math.floor((diff / 6e4) % 60)).padStart(2, '0');
        document.getElementById('seconds').innerText = String(Math.floor((diff / 1e3) % 60)).padStart(2, '0');
      };
      update();
      clockInterval = setInterval(update, 1000);
    }

    // MASTER GARDEN LOGIC
    // BANDARIYA GARDEN LOGIC
    let trees = [];
    let monkeys = [];
    const monkeyQuotes = [
      "Bandariya is hungry for chhalang! üêí",
      "Look at that kudka! So fast! üí®",
      "Panda is watching your flips! üêº",
      "Bandariya is the queen of trees! üëë",
      "Oooh-aah-aah! Jumping time! üçå",
      "Catch me if you can, Panda! üèÉ‚Äç‚ôÄÔ∏è",
      "Wait! I need a banana break! üçåüòÇ",
      "Bandariya loves jumping for you! ‚ù§Ô∏è",
      "Doing a flip just because I can! ü§∏‚Äç‚ôÄÔ∏è",
      "Jungle queen on the move! üå¥",
      "Monkeying around is my favorite style! üêí",
      "Stop staring, start planting trees! üå≥üòÇ"
    ];
    
    function initGarden() {
      const canvas = document.getElementById('garden-canvas');
      trees = [];
      monkeys = [{
        x: 50, y: 250, targetX: 50, targetY: 250, 
        jumpProg: 1, arcH: 0, startX: 50, startY: 250,
        rotation: 0, isJumping: false, flip: 1
      }];
      
      canvas.onclick = (e) => {
        const rect = canvas.getBoundingClientRect();
        const x = (e.clientX - rect.left) * (canvas.width / rect.width);
        const y = (e.clientY - rect.top) * (canvas.height / rect.height);
        
        trees.push({x, y: Math.max(y, 50), height: 40 + Math.random() * 40});
        triggerJump(x, Math.max(y, 50) - 20);
        
        const status = document.getElementById('monkey-status');
        status.innerText = monkeyQuotes[Math.floor(Math.random() * monkeyQuotes.length)];
        gsap.from(status, {scale: 1.2, duration: 0.2});
      };

      if (!window.gardenLoopStarted) {
        window.gardenLoopStarted = true;
        animateGarden();
      }
    }

    function triggerJump(tx, ty) {
      const m = monkeys[0];
      if (m.isJumping) return;
      
      m.startX = m.x;
      m.startY = m.y;
      m.targetX = tx;
      m.targetY = ty;
      m.jumpProg = 0;
      m.isJumping = true;
      m.arcH = Math.min(Math.abs(tx - m.x) * 0.5, 100);
      m.flip = tx > m.x ? 1 : -1;
    }

    function monkeyMagic() {
      const canvas = document.getElementById('garden-canvas');
      for(let i=0; i<10; i++){
        setTimeout(() => {
          const tx = Math.random() * canvas.width;
          const ty = 50 + Math.random() * 200;
          trees.push({x: tx, y: ty, height: 30 + Math.random() * 30});
          monkeys.push({
            x: Math.random() * canvas.width, y: canvas.height, 
            targetX: tx, targetY: ty - 20,
            startX: Math.random() * canvas.width, startY: canvas.height,
            jumpProg: 0, arcH: 100, isJumping: true, rotation: 0, flip: 1
          });
        }, i * 200);
      }
    }

    function drawMonkey(ctx, x, y, rot, flip) {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rot);
      ctx.scale(flip, 1);
      
      // Face
      ctx.fillStyle = "#8d6e63";
      ctx.beginPath();
      ctx.arc(0, 0, 10, 0, Math.PI * 2);
      ctx.fill();
      
      // Ears
      ctx.beginPath();
      ctx.arc(-8, -5, 4, 0, Math.PI * 2);
      ctx.arc(8, -5, 4, 0, Math.PI * 2);
      ctx.fill();
      
      // Mouth area
      ctx.fillStyle = "#d7ccc8";
      ctx.beginPath();
      ctx.arc(0, 3, 6, 0, Math.PI * 2);
      ctx.fill();
      
      // Eyes
      ctx.fillStyle = "#000";
      ctx.beginPath();
      ctx.arc(-3, -2, 2, 0, Math.PI * 2);
      ctx.arc(3, -2, 2, 0, Math.PI * 2);
      ctx.fill();
      
      ctx.restore();
    }

    function animateGarden() {
      const canvas = document.getElementById('garden-canvas');
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Draw Trees
      trees.forEach(t => {
        ctx.fillStyle = "#3e2723";
        ctx.fillRect(t.x - 3, t.y, 6, canvas.height - t.y);
        ctx.fillStyle = "#2d6a4f";
        ctx.beginPath();
        ctx.arc(t.x, t.y, 15, 0, Math.PI * 2);
        ctx.fill();
      });

      // Update & Draw Monkeys
      monkeys.forEach((m, idx) => {
        if (m.isJumping) {
          m.jumpProg += 0.02;
          if (m.jumpProg >= 1) {
            m.jumpProg = 1;
            m.isJumping = false;
            m.x = m.targetX;
            m.y = m.targetY;
            m.rotation = 0;
          } else {
            // Parabolic jump
            m.x = m.startX + (m.targetX - m.startX) * m.jumpProg;
            const lift = Math.sin(Math.PI * m.jumpProg) * m.arcH;
            m.y = (m.startY + (m.targetY - m.startY) * m.jumpProg) - lift;
            m.rotation += 0.1 * m.flip;
          }
        }
        drawMonkey(ctx, m.x, m.y, m.rotation, m.flip);
      });
      
      if (document.getElementById('garden').classList.contains('active')) {
        requestAnimationFrame(animateGarden);
      } else {
        window.gardenLoopStarted = false;
      }
    }

    function clearGarden() {
      trees = [];
      monkeys = [monkeys[0]]; // Keep initial monkey
      monkeys[0].x = 50;
      monkeys[0].y = 250;
      monkeys[0].isJumping = false;
    }

    // QUIZ
    let currentQuizStep = 0;
    const questions = [
      { q: "When did our story officially begin? (Our first meet)", o: ["01 Jan 2024", "08 Dec 2023", "14 Feb 2024", "12 Nov 2023"], a: 1 },
      { q: "Which movie did we watch together for the first time?", o: ["Lalo", "Tere Ishq Me", "Shaiyaara", "Satyaprem Ki Katha"], a: 2 },
      { q: "What is my favorite thing about you?", o: ["Your beautiful smile", "Your eyes (stare forever)", "Your cute laugh", "Your kind soul"], a: 1 },
      { q: "What do I do most when I am with you?", o: ["Talk non-stop", "Make bad jokes", "Check my phone", "Just stare at you"], a: 3 },
      { q: "Where did we go together for the very first time?", o: ["Mcdonald's", "Law Garden", "Riverfront", "Prahladnagar Garden"], a: 0 },
      { q: "Where should we go for our next big trip?", o: ["To the Beach üèñÔ∏è", "To the Mountains üèîÔ∏è", "To a new Movie üçø", "To the Vrindavan ü¶ö"], a: 3 },
      { q: "What was the first thing I ever gave you?", o: ["A Rose üåπ", "A Chocolate üç´", "A small note üìù", "Just my heart ‚ù§Ô∏è"], a: 3 }
    ];
    let quizLocked = false;
    function checkAnswer(idx) {
      if (quizLocked) return;
      const btns = document.querySelectorAll('.option-btn');
      
      if (idx === questions[currentQuizStep].a) {
        quizLocked = true;
        btns[idx].classList.add('correct');
        setTimeout(() => {
          currentQuizStep++;
          quizLocked = false;
          if (currentQuizStep >= questions.length) {
            finishQuiz();
          } else {
            updateQuiz();
          }
        }, 800);
      } else {
        btns[idx].classList.add('wrong');
        setTimeout(() => btns[idx].classList.remove('wrong'), 500);
      }
    }
    function updateQuiz() {
      document.getElementById('quiz-container').style.display = 'block';
      document.getElementById('quiz-result').style.display = 'none';
      const q = questions[currentQuizStep];
      document.getElementById('quiz-question').innerText = q.q;
      const btns = document.querySelectorAll('.quiz-options .option-btn');
      btns.forEach((b, i) => {
        b.classList.remove('correct', 'wrong');
        b.blur(); // Remove focus
        if (q.o[i]) {
          b.innerText = q.o[i];
          b.style.display = 'block';
        } else {
          b.style.display = 'none';
        }
      });
    }

    function finishQuiz() {
      document.getElementById('quiz-container').style.display = 'none';
      const result = document.getElementById('quiz-result');
      result.style.display = 'flex';
      
      // Explosion effect
      for (let i = 0; i < 50; i++) {
        setTimeout(() => createHeart(window.innerWidth / 2, window.innerHeight / 2, true), i * 30);
      }
      
      gsap.from("#certificate", {
        scale: 0.5,
        opacity: 0,
        rotation: -10,
        duration: 1,
        ease: "back.out(1.7)"
      });
    }

    // RANDOMIZER
    function generateReason() {
      const el = document.getElementById('love-reason');
      const r = reasons[Math.floor(Math.random() * reasons.length)];
      gsap.to(el, {
        opacity: 0, y: 10, duration: 0.3, onComplete: () => {
          el.innerText = r;
          gsap.to(el, { opacity: 1, y: 0, duration: 0.3 });
        }
      });
      gsap.to('#random-heart', { scale: 1.3, duration: 0.1, yoyo: true, repeat: 1 });
    }

    // LOVE VAULT LOGIC
    let vaultInput = "";
    const secretCode = "1206";

    function pressKey(num) {
      if (vaultInput.length < 4) {
        vaultInput += num;
        document.getElementById('vault-input-display').innerText = vaultInput.padEnd(4, '_');
      }
    }

    function clearVault() {
      vaultInput = "";
      document.getElementById('vault-input-display').innerText = "____";
    }

    function showGiftOptions() {
      const step1 = document.getElementById('vault-step-1');
      const step2 = document.getElementById('vault-step-2');
      
      gsap.to(step1, {
        opacity: 0,
        y: -20,
        duration: 0.4,
        onComplete: () => {
          step1.style.display = 'none';
          step2.style.display = 'block';
          gsap.to(step2, {
            opacity: 1,
            y: 0,
            duration: 0.5,
            ease: "power2.out"
          });
        }
      });
    }

    function hideGiftOptions() {
      const step1 = document.getElementById('vault-step-1');
      const step2 = document.getElementById('vault-step-2');
      
      gsap.to(step2, {
        opacity: 0,
        y: 20,
        duration: 0.4,
        onComplete: () => {
          step2.style.display = 'none';
          step1.style.display = 'block';
          gsap.to(step1, {
            opacity: 1,
            y: 0,
            duration: 0.5,
            ease: "power2.out"
          });
        }
      });
    }

    function openWhatsAppPrompt(plan) {
      const base = "https://wa.me/+91 9106753003?text=";
      let msg = "";
      // Using pre-encoded strings to bypass all charset issues
      if(plan === 'dinner') msg = "I%20unlocked%20the%20vault!%20I%20want%20the%20Romantic%20Dinner%20Date!%20%F0%9F%8D%BD%EF%B8%8F%E2%9D%A4%EF%B8%8F";
      else if(plan === 'movie') msg = "I%20unlocked%20the%20vault!%20I%20want%20the%20Romantic%20Movie%20Date!%20%F0%9F%8E%AC%E2%9D%A4%EF%B8%8F";
      else if(plan === 'drive') msg = "I%20unlocked%20the%20vault!%20I%20want%20the%20Long%20Drive%20and%20Ice%20Cream!%20%F0%9F%9A%97%F0%9F%8D%A6%E2%9D%A4%EF%B8%8F";
      
      window.open(base + msg, '_blank');
    }

    function checkVault() {
      if (vaultInput === secretCode) {
        // SUCCESS
        // Reset to Step 1
        document.getElementById('vault-step-1').style.display = 'block';
        document.getElementById('vault-step-1').style.opacity = '1';
        document.getElementById('vault-step-1').style.transform = 'translateY(0)';
        document.getElementById('vault-step-2').style.display = 'none';
        
        gsap.to("#vault-door", {
          rotateY: -110,
          duration: 1.5,
          ease: "power2.inOut",
          onComplete: () => {
            gsap.to("#vault-reveal", {
              opacity: 1,
              scale: 1,
              duration: 0.8,
              ease: "back.out(1.7)"
            });
            gsap.from("#golden-ticket", {
              y: 50,
              opacity: 0,
              duration: 1,
              delay: 0.5,
              ease: "power2.out"
            });
            for (let i = 0; i < 40; i++) {
              setTimeout(() => createHeart(window.innerWidth / 2, window.innerHeight / 2, true), i * 40);
            }
          }
        });
      } else {
        // WRONG CODE
        gsap.to("#vault-door", {
          x: 10,
          duration: 0.1,
          repeat: 5,
          yoyo: true,
          onComplete: () => {
            gsap.set("#vault-door", { x: 0 });
            clearVault();
          }
        });
      }
    }

    // COUPONS
    function redeem(el) {
      if (el.classList.contains('redeemed')) return;
      el.classList.add('redeemed');
      
      const stamp = el.querySelector('.redeem-stamp');
      gsap.to(stamp, {
        opacity: 1,
        scale: 1.2,
        duration: 0.3,
        ease: "bounce.out",
        onComplete: () => {
          gsap.to(stamp, { scale: 1, duration: 0.2 });
        }
      });

      for (let i = 0; i < 30; i++) {
        setTimeout(() => createHeart(window.innerWidth / 2, window.innerHeight / 2, true), i * 50);
      }
    }

    // NEW BOOK GALLERY LOGIC
    let galleryInterval, currentPhotoIndex = 0;
    const photoCaptions = [
      "Our first photo together üì∏",
      "The memory of our first trip ‚úàÔ∏è",
      "Traditional Look ‚Äì Simply Stunning ‚ú®",
      "My Artist with her beautiful creations üé®‚ú®",
      "Sweet moments of you feeding me üçéüç∞",
      "You give me gifts that I'll always cherish üéÅ‚ù§Ô∏è",
      "Stuck in a trance when you wear this... üòçüëó",
      "The moment I put a ring on your finger üíçüíû",
      "My absolute favorite photo together ‚ù§Ô∏è",
      "The latest beautiful page in my love Gallery üìñ‚ù§Ô∏è"
    ];

    function updateCaption() {
      const cap = document.getElementById('memory-caption');
      if (cap) {
        gsap.to(cap, { opacity: 0, duration: 0.3, onComplete: () => {
          cap.innerText = photoCaptions[currentPhotoIndex] || "";
          gsap.to(cap, { opacity: 1, duration: 0.3 });
        }});
      }
    }

    function initBook() {
      const pages = document.querySelectorAll('.book-page');
      pages.forEach((page, idx) => {
        page.style.zIndex = pages.length - idx;
      });
    }

    function startGallery() { 
      stopGallery(); 
      galleryInterval = setInterval(nextPhoto, 5000); 
    }
    function stopGallery() { clearInterval(galleryInterval); }

    function nextPhoto() {
      const pages = document.querySelectorAll('.book-page');
      if (currentPhotoIndex >= pages.length - 1) {
        // Reset book
        pages.forEach((page, idx) => {
          page.classList.remove('flipped');
          page.style.zIndex = pages.length - idx;
        });
        currentPhotoIndex = 0;
        updateCaption();
        return;
      }

      const currentPage = pages[currentPhotoIndex];
      currentPage.classList.add('flipped');
      currentPage.style.zIndex = currentPhotoIndex + 1;
      
      currentPhotoIndex++;
      updateCaption();
    }

    function prevPhoto() {
      const pages = document.querySelectorAll('.book-page');
      if (currentPhotoIndex <= 0) return;

      currentPhotoIndex--;
      const pageToUnflip = pages[currentPhotoIndex];
      pageToUnflip.classList.remove('flipped');
      pageToUnflip.style.zIndex = pages.length - currentPhotoIndex;
      
      updateCaption();
      startGallery();
    }
    function manualNext() { nextPhoto(); startGallery(); }
    
    // Call initBook on load
    window.addEventListener('DOMContentLoaded', initBook);

    // SHAYARI LOGIC
    function updateShayariContent() {
      const el = document.getElementById('shayari-text');
      if (!el) return;
      gsap.to(el, {
        opacity: 0, y: 10, duration: 0.3, onComplete: () => {
          el.innerHTML = shayaris[currentShayariIndex];
          gsap.to(el, { opacity: 1, y: 0, duration: 0.4, ease: "power2.out" });
        }
      });
    }
    function nextShayari() {
      currentShayariIndex = (currentShayariIndex + 1) % shayaris.length;
      updateShayariContent();
    }
    function prevShayari() {
      currentShayariIndex = (currentShayariIndex - 1 + shayaris.length) % shayaris.length;
      updateShayariContent();
    }

    // MUSIC
    function toggleMusic() {
      if (music.paused) { music.play().catch(e => 0); musicToggle.classList.add('playing'); }
      else { music.pause(); musicToggle.classList.remove('playing'); }
    }
  </script>

</body>

</html>

